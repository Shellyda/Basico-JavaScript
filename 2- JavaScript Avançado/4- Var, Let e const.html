<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Declaração de variaveis no JS</title>
</head>
<body>
<!-- https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/let
	 https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const

     Const - utilizado para a declaração de uma variável que só vai aparecer uma vez no código ou vai se manter a msm. 
             A  declaração const cria uma variável cujo o valor é fixo, ou seja, uma constante somente leitura. Isso não significa que o valor é imutável, apenas que a variável constante não pode ser alterada ou retribuída.

             Esta declaração cria uma constante que pode pertencer tanto ao escopo global (na janela ou objeto) quanto ao local do bloco em que é declarada. Constantes globais não se tornam propriedades do objeto window, diferente da criação de variáveis com var. Toda constante requer um inicializador, ou seja, é preciso especificar um valor para a constante no momento em que ela é declarada (o que faz sentido, uma vez que esse valor não pode ser alterado).

            A declaração const cria uma referência somente leitura a um valor. Isso não significa que esse valor é imutável, apenas que o identificador da variável constante não pode ser alterado. Se o conteúdo do identificador for um objeto, isso significa que o conteúdo do objeto (ex. seus parâmetros) podem ser alterados.

            Uma constante não pode ter o mesmo nome que uma função ou variável que esteja no mesmo escopo.

     Let - a forma de declarar uma variável mais nova do JS, Declara uma variável local no escopo do bloco atual, opcionalmente iniciando-a com um valor.

     let permite que você declare variáveis limitando seu escopo no bloco, instrução, ou em uma expressão na qual ela é usada. Isso é inverso da keyword conhecida até então, Var, que define uma variável globalmente ou no escopo inteiro de uma função, independentemente do escopo de bloco.

     Com o uso de Let diminuimos o uso de memória e dados do nosso código!
-->
<script>
	//Exemplo usando uma variável constante:

// NOTA: constantes podem ser declaradas em caixa alta ou baixa,
// mas uma convenção comum é usar apenas caixa alta

// define MY_FAV como uma constante e lhe atribui o valor 7
const MY_FAV = 7;

// isto falha mas não emite erros no Firefox e Chrome (porém não falha no Safari)
MY_FAV = 20;

// a variável MY_FAV possui o valor 7
console.log("my favorite number is: " + MY_FAV);

// tentar redeclarar a constante emite um erro - Uncaught SyntaxError: Identifier 'MY_FAV' has already been declared
const MY_FAV = 20;

// o nome MY_FAV está reservado para a constante acima, logo também irá falhar
var MY_FAV = 20; 

// isso também vai falhar
let MY_FAV = 20;

// É importante notar a natureza de escopo por bloco
if (MY_FAV === 7) {
    // não tem problema fazer isso, pois cria uma variável de bloco MY_FAV
    // com escopo local (o nome MY_FAV poderia ser usado com let também)
    let MY_FAV = 20;

    // MY_FAV agora é 20
    console.log("meu número favorito é " + MY_FAV);

    // isso retorna um erro, pois tenta registrar a variável no contexto global
    var MY_FAV = 20;
}

//MY_FAV ainda é 7
console.log('meu número favorito é ' + MY_FAV);

// const deve ser inicializada 
const FOO; // SyntaxError: missing = in const declaration

// const também funciona com objetos
const MY_OBJECT = {'key':'value'};

// Sobrescrever o objeto também falha (no Firefox e Chrome mas não no Safari) - Uncaught TypeError: Assignment to constant variable.
MY_OBJECT = {"OTHER_KEY": "value"};

// Entretanto, atributos de objetos não estão protegidos,
// logo a seguinte instrução é executada sem problemas 
MY_OBJECT.key = "otherValue"; // Utilize Object.freeze() se quiser tornar um objeto imutável 

// o mesmo se aplica para arrays
const MY_ARRAY = [];
// É possível utilizar push para incluir itens no array
MY_ARRAY.push('A'); //["A"]
// Todavia, atribuir um novo array para a variável gera um erro
MY_ARRAY = ['B'];



//Exemplo usando a variável let:

//Variáveis declaradas com let são "içadas" para começo do bloco em que elas são definidas (isso é conhecido também pelo termo, hoisting).

//Redeclaração de uma mesma variável num mesmo escopo de bloco causa um TypeError.

if (x) {
  let foo;
  let foo; // Emite um TypeError.
}

//No entanto, corpos de funções não possuem essa limitação!

function do_something() {
  let foo;
  let foo; // Isso funciona.
}

//Você pode encontrar erros em instruções switch porque existe apenas um bloco subjacente.

switch (x) {
  case 0:
    let foo;
    break;
    
  case 1:
    let foo; // TypeError para a redeclaração.
    break;
}

//Uma expressão let limita o escopo de uma variável declarada somente para aquela expressão.

var a = 5;
let(a = 6) alert(a); // 6
alert(a); // 5

//Usada dentro de um bloco, let limita os escopo das variáveis para aquele bloco. Observe a diferença entre var em que o escopo é definido dentro da função onde é declarada

//É possível usar a keyword let para vincular variáveis ​​localmente no escopo de loops em vez de usar uma variável global (definida usando var) para isso.

for (let i = 0; i<10; i++) {
  alert(i); // 1, 2, 3, 4 ... 9
}

alert(i); // i não está definida
</script>

</body>
</html>